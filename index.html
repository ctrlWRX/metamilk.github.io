<!DOCTYPE html>
<html>
    <head>
        <title>MetaMilk</title>
        <link rel="icon" type="image/x-icon" href="images/Logo_Two.png">
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="stylesheet" href="styles.css">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    </head>
    <body>
        <div class = "container-fluid section-one text-center">
            <img src="images/Logo.png" alt="MetaMilk Logo" width="200" height="200" style="z-index: 3;">
            <h1 style="padding-top: 50px; padding-bottom: 20px;">MetaMilk Coming Q1 2026</h1>
            <h2>Prepare to hack the financial metaverse...</h2>
            <h3>Q1 2026</h3>
            
            <!-- Email Signup Form -->
            <div id="email-signup" style="margin-top: 30px;">
                <form id="signup-form" style="display: inline-block;">
                    <input 
                        type="email" 
                        id="email-input" 
                        placeholder="Enter your email" 
                        required
                        style="
                            background: transparent;
                            border: 1px solid rgba(255,255,255,0.5);
                            border-radius: 4px;
                            padding: 12px 20px;
                            color: white;
                            font-size: 16px;
                            width: 280px;
                            outline: none;
                        "
                    >
                    <button 
                        type="submit" 
                        style="
                            background: transparent;
                            border: 1px solid rgba(255,255,255,0.5);
                            border-radius: 4px;
                            padding: 12px 25px;
                            color: white;
                            font-size: 16px;
                            cursor: pointer;
                            margin-left: 10px;
                            transition: background 0.3s;
                        "
                        onmouseover="this.style.background='rgba(255,255,255,0.1)'"
                        onmouseout="this.style.background='transparent'"
                    >Join Waitlist</button>
                </form>
                <p id="signup-message" style="margin-top: 15px; color: #90EE90;"></p>
            </div>
        </div>

        <script>
            var API_BASE_URL =
                window.location.hostname === "localhost" || window.location.hostname === "127.0.0.1"
                    ? ""
                    : "https://metamilk.pythonanywhere.com";

            $('#signup-form').on('submit', function(e) {
                e.preventDefault();
                var email = $('#email-input').val();
                var $msg = $('#signup-message');
                
                $.ajax({
                    url: API_BASE_URL + '/api/email-signup',
                    type: 'POST',
                    contentType: 'application/json',
                    data: JSON.stringify({ email: email }),
                    success: function(response) {
                        $msg.css('color', '#90EE90').text(response.message);
                        $('#email-input').val('');
                    },
                    error: function(xhr) {
                        var err = xhr.responseJSON ? xhr.responseJSON.error : 'Something went wrong.';
                        $msg.css('color', '#FF6B6B').text(err);
                    }
                });
            });
        </script>
    </body>
</html>

